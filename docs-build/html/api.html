<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AA Toolbox API &mdash; aatoolbox  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->

        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="contributing.html" />
    <link rel="prev" title="Raster" href="utilities/raster.html" />
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> aatoolbox
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Country Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasources.html">Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">AA Toolbox API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aatoolbox.create_country_config"><code class="docutils literal notranslate"><span class="pre">create_country_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#aatoolbox.create_custom_country_config"><code class="docutils literal notranslate"><span class="pre">create_custom_country_config()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-sources">Data sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.datasources.chirps.chirps">CHIRPS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#daily">Daily</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monthly">Monthly</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.datasources.codab.codab">Common Operational Datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aatoolbox.CodAB"><code class="docutils literal notranslate"><span class="pre">CodAB</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.datasources.fewsnet.fewsnet">FEWS NET</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aatoolbox.FewsNet"><code class="docutils literal notranslate"><span class="pre">FewsNet</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.datasources.glofas.glofas">GloFAS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reanalysis">Reanalysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forecast">Forecast</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reforecast">Reforecast</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.datasources.iri.iri_seasonal_forecast">IRI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#probability-forecast">Probability forecast</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dominant-forecast">Dominant forecast</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.datasources.usgs.ndvi_products">NDVI (USGS eMODIS)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#smoothed">Smoothed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#percent-of-median">Percent of median</a></li>
<li class="toctree-l4"><a class="reference internal" href="#median-anomaly">Median anomaly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#difference-from-previous-year">Difference from previous year</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.utils.geoboundingbox">GeoboundingBox</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aatoolbox.GeoBoundingBox"><code class="docutils literal notranslate"><span class="pre">GeoBoundingBox</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-aatoolbox.utils.raster">Raster module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-arrays">Data arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datasets">Datasets</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">aatoolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">AA Toolbox API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <section id="aa-toolbox-api">
<h1>AA Toolbox API<a class="headerlink" href="#aa-toolbox-api" title="Permalink to this heading"></a></h1>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="aatoolbox.create_country_config">
<span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">create_country_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iso3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></span><a class="reference internal" href="_modules/aatoolbox/config/countryconfig.html#create_country_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.create_country_config" title="Permalink to this definition"></a></dt>
<dd><p>Return a country configuration object from AA Toolbox.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iso3</strong> (<em>str</em>) – Country ISO3, must be exactly 3 letters long</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>CountryConfig instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aatoolbox.create_custom_country_config">
<span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">create_custom_country_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></span><a class="reference internal" href="_modules/aatoolbox/config/countryconfig.html#create_custom_country_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.create_custom_country_config" title="Permalink to this definition"></a></dt>
<dd><p>Return a custom country configuration object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em><em>, </em><em>pathlib.Path</em>) – Path to the configuration file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>CountryConfig instance</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="data-sources">
<h2>Data sources<a class="headerlink" href="#data-sources" title="Permalink to this heading"></a></h2>
<section id="module-aatoolbox.datasources.chirps.chirps">
<span id="chirps"></span><h3>CHIRPS<a class="headerlink" href="#module-aatoolbox.datasources.chirps.chirps" title="Permalink to this heading"></a></h3>
<p>Class to download and load CHIRPS observational precipitation data.</p>
<section id="daily">
<h4>Daily<a class="headerlink" href="#daily" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.ChirpsDaily">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">ChirpsDaily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/chirps/chirps.html#ChirpsDaily"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.ChirpsDaily" title="Permalink to this definition"></a></dt>
<dd><p>Class object to retrieve CHIRPS observational monthly precipitation data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – the bounding coordinates of the area that should be included in the
data.</p></li>
<li><p><strong>resolution</strong> (<em>float</em><em>, </em><em>default = 0.05</em>) – resolution of data to be downloaded. Can be 0.05 or 0.25.</p></li>
<li><p><strong>start_date</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>datetime.date</em><em>, </em><em>str</em><em>]</em><em>]</em><em>, </em><em>default = None</em>) – Data will be considered starting from date <cite>start_date</cite>.
Input can be an ISO8601 string or <cite>datetime.date</cite> object.
If None, it is set to 1981-1-1.</p></li>
<li><p><strong>end_date</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>datetime.date</em><em>, </em><em>str</em><em>]</em><em>]</em><em>, </em><em>default = None</em>) – Data will be considered up to date <cite>end_date</cite>.
Input can be an ISO8601 string or <cite>datetime.date</cite> object.
If None, it is set to the date for which most recent data
is available.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span><span class="p">,</span> <span class="n">GeoBoundingBox</span><span class="p">,</span>
<span class="gp">... </span><span class="n">ChirpsDaily</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">admin0</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="o">.</span><span class="n">from_shape</span><span class="p">(</span><span class="n">admin0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2007</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2020</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_daily</span> <span class="o">=</span> <span class="n">ChirpsDaily</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">geo_bounding_box</span><span class="o">=</span><span class="n">geo_bounding_box</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_daily</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_daily</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_daily_data</span> <span class="o">=</span> <span class="n">chirps_daily</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.ChirpsDaily.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aatoolbox.ChirpsDaily.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the CHIRPS observed precipitation as NetCDF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing raw files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The folder where the data is downloaded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.ChirpsDaily.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.ChirpsDaily.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the CHIRPS data.</p>
<p>Should only be called after the data
has been downloaded and processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The processed CHIRPS dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.ChirpsDaily.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aatoolbox.ChirpsDaily.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the CHIRPS data.</p>
<p>Should only be called after data has been download.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed files.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The folder where the data is processed.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="monthly">
<h4>Monthly<a class="headerlink" href="#monthly" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.ChirpsMonthly">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">ChirpsMonthly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/chirps/chirps.html#ChirpsMonthly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.ChirpsMonthly" title="Permalink to this definition"></a></dt>
<dd><p>Class object to retrieve CHIRPS observational monthly precipitation data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – the bounding coordinates of the area that should be included in the
data.</p></li>
<li><p><strong>start_date</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>datetime.date</em><em>, </em><em>str</em><em>]</em><em>]</em><em>, </em><em>default = None</em>) – Data will be considered starting from date <cite>start_date</cite>.
Input can be an ISO8601 string or <cite>datetime.date</cite> object.
If None, it is set to 1981-1-1.</p></li>
<li><p><strong>end_date</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>datetime.date</em><em>, </em><em>str</em><em>]</em><em>]</em><em>, </em><em>default = None</em>) – Data will be considered up to date <cite>end_date</cite>.
Input can be an ISO8601 string or <cite>datetime.date</cite> object.
If None, it is set to the date for which most recent data
is available.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span><span class="p">,</span> <span class="n">GeoBoundingBox</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">ChirpsMonthly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">admin0</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="o">.</span><span class="n">from_shape</span><span class="p">(</span><span class="n">admin0</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2007</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2020</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_monthly</span> <span class="o">=</span> <span class="n">ChirpsMonthly</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">geo_bounding_box</span><span class="o">=</span><span class="n">geo_bounding_box</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">start_date</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">end_date</span><span class="o">=</span><span class="n">end_date</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_monthly</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_monthly</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chirps_monthly_data</span> <span class="o">=</span> <span class="n">chirps_monthly</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.ChirpsMonthly.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aatoolbox.ChirpsMonthly.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the CHIRPS observed precipitation as NetCDF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing raw files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The folder where the data is downloaded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.ChirpsMonthly.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.ChirpsMonthly.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the CHIRPS data.</p>
<p>Should only be called after the data
has been downloaded and processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The processed CHIRPS dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.ChirpsMonthly.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aatoolbox.ChirpsMonthly.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the CHIRPS data.</p>
<p>Should only be called after data has been download.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed files.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The folder where the data is processed.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-aatoolbox.datasources.codab.codab">
<span id="common-operational-datasets"></span><h3>Common Operational Datasets<a class="headerlink" href="#module-aatoolbox.datasources.codab.codab" title="Permalink to this heading"></a></h3>
<p>Download and manipulate COD administrative boundaries.</p>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.CodAB">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">CodAB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/codab/codab.html#CodAB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.CodAB" title="Permalink to this definition"></a></dt>
<dd><p>Work with COD AB (administrative boundaries).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.CodAB.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference internal" href="_modules/aatoolbox/datasources/codab/codab.html#CodAB.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.CodAB.download" title="Permalink to this definition"></a></dt>
<dd><p>Download COD AB file from HDX.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing COD AB files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Download COD administrative boundaries for Nepal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;npl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npl_cod_shapefile</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.CodAB.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">admin_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="_modules/aatoolbox/datasources/codab/codab.html#CodAB.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.CodAB.load" title="Permalink to this definition"></a></dt>
<dd><p>Get the COD AB data by admin level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>admin_level</strong> (<em>int</em>) – The administrative level</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>COD AB geodataframe with specified admin level</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>AttributeError</strong> – If the requested admin level is higher than what is available</p></li>
<li><p><strong>FileNotFoundError</strong> – If the requested filename or layer name are not found</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Nepal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;npl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npl_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.CodAB.load_custom">
<span class="sig-name descname"><span class="pre">load_custom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">custom_layer_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="_modules/aatoolbox/datasources/codab/codab.html#CodAB.load_custom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.CodAB.load_custom" title="Permalink to this definition"></a></dt>
<dd><p>Get the COD AB data from a custom (non-level) layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>custom_layer_number</strong> (<em>int</em>) – The 0-indexed number of the layer listed in the custom_layer_names
parameter of the country’s config file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>COD AB geodataframe with custom admin level</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>AttributeError</strong> – If the requested custom layer number is not available</p></li>
<li><p><strong>FileNotFoundError</strong> – If the requested filename or layer name are not found</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve district boundaries for Nepal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;npl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npl_district</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load_custom</span><span class="p">(</span><span class="n">custom_layer_number</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.CodAB.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/codab/codab.html#CodAB.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.CodAB.process" title="Permalink to this definition"></a></dt>
<dd><p>Process COD AB data.</p>
<p>Method not implemented.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-aatoolbox.datasources.fewsnet.fewsnet">
<span id="fews-net"></span><h3>FEWS NET<a class="headerlink" href="#module-aatoolbox.datasources.fewsnet.fewsnet" title="Permalink to this heading"></a></h3>
<p>FEWS NET processing.</p>
<p>Download and save the data provided by FEWS NET as provided
on &lt;<a class="reference external" href="https://fews.net/">https://fews.net/</a>&gt;.</p>
<p>FEWS NET is only available in a set of countries.
Check their website to see which countries are included.</p>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.FewsNet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">FewsNet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/fewsnet/fewsnet.html#FewsNet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.FewsNet" title="Permalink to this definition"></a></dt>
<dd><p>Base class to retrieve FewsNet data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.FewsNet.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pub_year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pub_month</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference internal" href="_modules/aatoolbox/datasources/fewsnet/fewsnet.html#FewsNet.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.FewsNet.download" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the raw FEWS NET data.</p>
<p>Depending on the region and date, this data is published per region or
per country. This function retrieves the country data
if it exists, and else the regional data for <cite>pub_year</cite>-<cite>pub_month</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pub_year</strong> (<em>int</em>) – publication year of the data that should be downloaded</p></li>
<li><p><strong>pub_month</strong> (<em>int</em>) – publication month of the data that should be downloaded. This
commonly refers to the month of the Current Situation period</p></li>
<li><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing raw files</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Path to the downloaded file.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">FewsNet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Download FEWS NET data for ETH published in 2021-06</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;eth&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fewsnet</span> <span class="o">=</span> <span class="n">FewsNet</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eth_fn_202106_path</span> <span class="o">=</span> <span class="n">fewsnet</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">pub_year</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span><span class="n">pub_month</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.FewsNet.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pub_year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pub_month</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.datasources.fewsnet.html#aatoolbox.datasources.fewsnet.fewsnet.ValidProjectionPeriods" title="aatoolbox.datasources.fewsnet.fewsnet.ValidProjectionPeriods"><span class="pre">ValidProjectionPeriods</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GeoDataFrame</span></span></span><a class="reference internal" href="_modules/aatoolbox/datasources/fewsnet/fewsnet.html#FewsNet.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.FewsNet.load" title="Permalink to this definition"></a></dt>
<dd><p>Load FEWS NET data.</p>
<p>For the given <cite>pub_year</cite>, <cite>pub_month</cite> and <cite>projection_period</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pub_year</strong> (<em>int</em>) – publication year of the data that should be loaded</p></li>
<li><p><strong>pub_month</strong> (<em>int</em>) – publication month of the data that should be loaded. This
refers to the first month of the Current Situation period</p></li>
<li><p><strong>projection_period</strong> (<em>str</em>) – The projection period to be loaded. This should be CS, ML1, or ML2.
Referring to Current Situation, near term projection, and medium
term projection respectively.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Geopandas DataFrame with the specified data.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">FewsNet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load FEWS NET data for ETH published in 2021-06 of medium-term</span>
<span class="gp">... </span><span class="n">projection</span> <span class="n">period</span> <span class="p">(</span><span class="n">ML1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;eth&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fewsnet</span> <span class="o">=</span> <span class="n">FewsNet</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdf_eth_fn_202106</span> <span class="o">=</span> <span class="n">fewsnet</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">pub_year</span><span class="o">=</span><span class="mi">2021</span><span class="p">,</span><span class="n">pub_month</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span><span class="n">projection_period</span> <span class="o">=</span> <span class="s2">&quot;ML1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.FewsNet.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/fewsnet/fewsnet.html#FewsNet.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.FewsNet.process" title="Permalink to this definition"></a></dt>
<dd><p>Process FEWS NET data.</p>
<p>Method not implemented.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-aatoolbox.datasources.glofas.glofas">
<span id="glofas"></span><h3>GloFAS<a class="headerlink" href="#module-aatoolbox.datasources.glofas.glofas" title="Permalink to this heading"></a></h3>
<p>Base class for downloading and processing GloFAS river discharge data.</p>
<section id="reanalysis">
<h4>Reanalysis<a class="headerlink" href="#reanalysis" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.GlofasReanalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">GlofasReanalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/glofas/reanalysis.html#GlofasReanalysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GlofasReanalysis" title="Permalink to this definition"></a></dt>
<dd><p>Class for downloading and processing GloFAS reanalysis data.</p>
<p>The GloFAS reanalysis dataset is a global raster presenting river
discharnge from 1979 until present day (updated daily), see
<a class="reference external" href="https://essd.copernicus.org/articles/12/2043/2020/">this paper</a>
for more details.</p>
<p>This class downloads the raw raster data
<a class="reference external" href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/cems-glofas-historical?tab=overview">from CDS</a>,
and processes it from a raster to a datasets of reporting points from the
<a class="reference external" href="https://www.globalfloods.eu/glofas-forecasting/">GloFAS interface</a>.
Due to the CDS request size limits, separate files are downloaded per
year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – The bounding coordinates of the area that should be included</p></li>
<li><p><strong>start_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default: date</em><em>(</em><em>1979</em><em>, </em><em>1</em><em>, </em><em>1</em><em>)</em>) – The starting date for the dataset. If left blank, defaults to the
earliest available date</p></li>
<li><p><strong>end_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default: date.today</em><em>(</em><em>)</em>) – The ending date for the dataset. If left blank, defaults to
the current date</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Download, process and load all historical GloFAS reanalysis data
until the current date, set to Oct 22, 2022 for this example.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span><span class="p">,</span> <span class="n">GeoBoundingBox</span><span class="p">,</span>
<span class="gp">... </span><span class="n">GlofasReanalysis</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bgd&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">admin_npl</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="o">.</span><span class="n">from_shape</span><span class="p">(</span><span class="n">admin_npl</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_reanalysis</span> <span class="o">=</span> <span class="n">GlofasReanalysis</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">geo_bounding_box</span><span class="o">=</span><span class="n">geo_bounding_box</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2022</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_reanalysis</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_reanalysis</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npl_glofas_reanalysis_reporting_points</span> <span class="o">=</span> <span class="n">glofas_reanalysis</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasReanalysis.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.GlofasReanalysis.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the GloFAS data by querying CDS.</p>
<p>The raw GloFAS data is available as a global raster in CDS. This method
downloads the raster files for the specified region of interest
and date range. The files are in GRIB format and are split up either
by day, month, or year depending on the GloFAS product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – Overwrite files that were already downloaded</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list paths of downloaded files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasReanalysis.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.GlofasReanalysis.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed GloFAS data as an xarray.DataSet.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>A single xarray dataset containing all GloFAS reporting points</em></p></li>
<li><p><em>and their associated river discharge</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasReanalysis.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.GlofasReanalysis.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the downloaded GloFAS files.</p>
<p>For each raw GRIB file, read it in and extract the river discharge
from the reporting point coordinates specified in the configuration
file. Saves the output as a NetCDF file, where files are split by day,
month or year depending on the GloFAS product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – Overwrite files that were already processed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list paths of processed files</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="forecast">
<h4>Forecast<a class="headerlink" href="#forecast" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.GlofasForecast">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">GlofasForecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">leadtime_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/glofas/forecast.html#GlofasForecast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GlofasForecast" title="Permalink to this definition"></a></dt>
<dd><p>Class for downloading and processing GloFAS forecast data.</p>
<p>The GloFAS forecast dataset is a global raster presenting river
discharge forecast from 26 May 2021 until present day (updated daily), see
<a class="reference external" href="https://hess.copernicus.org/preprints/hess-2020-532/">this paper</a>
for more details. While CDS does have version 3 pre-release data
from 2020-2021,
we understand that there were some small issues that were fixed
in the final version, so at this point in time this module
does not support downloading the pre-release data.</p>
<p>This class downloads the raw raster data
<a class="reference external" href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/cems-glofas-forecast?tab=overview">from CDS</a>,
and processes it from a raster to a datasets of reporting points from the
<a class="reference external" href="https://www.globalfloods.eu/glofas-forecasting/">GloFAS interface</a>.
Due to the CDS request size limits, separate files are downloaded per
day (that contain all requested lead times).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – The bounding coordinates of the area that should be included</p></li>
<li><p><strong>leadtime_max</strong> (<em>int</em>) – The maximum desired lead time D in days. All forecast data for lead
times 1 to D days are downloaded</p></li>
<li><p><strong>start_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default: date</em><em>(</em><em>year=2021</em><em>, </em><em>month=5</em><em>, </em><em>day=26</em><em>)</em>) – The starting date for the dataset. If left blank, defaults to the
earliest available date</p></li>
<li><p><strong>end_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default: date.today</em><em>(</em><em>)</em>) – The ending date for the dataset. If left blank, defaults to
the current date</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Download, process and load GloFAS forecast data for the past month,
for a lead time of 15 days.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span><span class="p">,</span> <span class="n">GeoBoundingBox</span><span class="p">,</span>
<span class="gp">... </span><span class="n">GlofasForecast</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;npl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">admin_npl</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="o">.</span><span class="n">from_shape</span><span class="p">(</span><span class="n">admin_npl</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_forecast</span> <span class="o">=</span> <span class="n">GlofasForecast</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">geo_bounding_box</span><span class="o">=</span><span class="n">geo_bounding_box</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">leadtime_max</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2022</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2022</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_forecast</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_forecast</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npl_glofas_forecast_reporting_points</span> <span class="o">=</span> <span class="n">glofas_forecast</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasForecast.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.GlofasForecast.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the GloFAS data by querying CDS.</p>
<p>The raw GloFAS data is available as a global raster in CDS. This method
downloads the raster files for the specified region of interest
and date range. The files are in GRIB format and are split up either
by day, month, or year depending on the GloFAS product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – Overwrite files that were already downloaded</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list paths of downloaded files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasForecast.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.GlofasForecast.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed GloFAS data as an xarray.DataSet.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>A single xarray dataset containing all GloFAS reporting points</em></p></li>
<li><p><em>and their associated river discharge</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasForecast.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.GlofasForecast.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the downloaded GloFAS files.</p>
<p>For each raw GRIB file, read it in and extract the river discharge
from the reporting point coordinates specified in the configuration
file. Saves the output as a NetCDF file, where files are split by day,
month or year depending on the GloFAS product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – Overwrite files that were already processed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list paths of processed files</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="reforecast">
<h4>Reforecast<a class="headerlink" href="#reforecast" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.GlofasReforecast">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">GlofasReforecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">leadtime_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/glofas/forecast.html#GlofasReforecast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GlofasReforecast" title="Permalink to this definition"></a></dt>
<dd><p>Class for downloading and processing GloFAS reforecast data.</p>
<p>The GloFAS reforecast dataset is a global raster presenting river
discharnge forecasted from 1999 until 2018, see
<a class="reference external" href="https://hess.copernicus.org/preprints/hess-2020-532/">this paper</a>
for more details.</p>
<p>This class downloads the raw raster data
<a class="reference external" href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/cems-glofas-reforecast?tab=overview">from CDS</a>,
and processes it from a raster to a datasets of reporting points from the
<a class="reference external" href="https://www.globalfloods.eu/glofas-forecasting/">GloFAS interface</a>.</p>
<blockquote>
<div><p>Due to the CDS request size limits, separate files are downloaded per
month (that contain all requested lead times).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – The bounding coordinates of the area that should be included</p></li>
<li><p><strong>leadtime_max</strong> (<em>int</em>) – The maximum desired lead time D in days. All forecast data for lead
times 1 to D days are downloaded</p></li>
<li><p><strong>start_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default: date</em><em>(</em><em>year=1999</em><em>, </em><em>month=1</em><em>, </em><em>day=1</em><em>)</em>) – The starting date for the dataset. If left blank, defaults to the
earliest available date</p></li>
<li><p><strong>end_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>]</em><em>, </em><em>default: date</em><em>(</em><em>year=2018</em><em>, </em><em>month=12</em><em>, </em><em>day=31</em><em>)</em>) – The ending date for the dataset. If left blank, defaults to the
last available date</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Download, process and load all available GloFAS reforecast data
for a lead time of 15 days.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span> <span class="n">CodAB</span><span class="p">,</span> <span class="n">GeoBoundingBox</span><span class="p">,</span>
<span class="gp">... </span><span class="n">GlofasReforecast</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;npl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">admin_npl</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="o">.</span><span class="n">from_shape</span><span class="p">(</span><span class="n">admin_npl</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_reforecast</span> <span class="o">=</span> <span class="n">GlofasReforecast</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">geo_bounding_box</span><span class="o">=</span><span class="n">geo_bounding_box</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">leadtime_max</span><span class="o">=</span><span class="mi">15</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_reforecast</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_reforecast</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npl_glofas_reforecast_reporting_points</span> <span class="o">=</span> <span class="n">glofas_reforecast</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasReforecast.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.GlofasReforecast.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the GloFAS data by querying CDS.</p>
<p>The raw GloFAS data is available as a global raster in CDS. This method
downloads the raster files for the specified region of interest
and date range. The files are in GRIB format and are split up either
by day, month, or year depending on the GloFAS product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – Overwrite files that were already downloaded</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list paths of downloaded files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasReforecast.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.GlofasReforecast.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed GloFAS data as an xarray.DataSet.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>A single xarray dataset containing all GloFAS reporting points</em></p></li>
<li><p><em>and their associated river discharge</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GlofasReforecast.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.GlofasReforecast.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the downloaded GloFAS files.</p>
<p>For each raw GRIB file, read it in and extract the river discharge
from the reporting point coordinates specified in the configuration
file. Saves the output as a NetCDF file, where files are split by day,
month or year depending on the GloFAS product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – Overwrite files that were already processed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A list paths of processed files</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-aatoolbox.datasources.iri.iri_seasonal_forecast">
<span id="iri"></span><h3>IRI<a class="headerlink" href="#module-aatoolbox.datasources.iri.iri_seasonal_forecast" title="Permalink to this heading"></a></h3>
<p>Class to download and load IRI’s seasonal forecast.</p>
<section id="probability-forecast">
<h4>Probability forecast<a class="headerlink" href="#probability-forecast" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.IriForecastProb">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">IriForecastProb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/iri/iri_seasonal_forecast.html#IriForecastProb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.IriForecastProb" title="Permalink to this definition"></a></dt>
<dd><p>Class to retrieve IRI’s forecast data per tercile.</p>
<p>The retrieved data contains the probability per
tercile for the given bounding box.
Automatically all seasons and leadtimes are
downloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – the bounding coordinates of the area that should
be included in the data.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>     <span class="o">...</span>     <span class="n">GeoBoundingBox</span><span class="p">,</span> <span class="n">IriForecastProb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="p">(</span><span class="n">lat_max</span><span class="o">=</span><span class="mf">13.0</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">lat_min</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">lon_max</span><span class="o">=-</span><span class="mf">3.0</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">lon_min</span><span class="o">=-</span><span class="mf">2.0</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize class and retrieve data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri</span> <span class="o">=</span> <span class="n">IriForecastProb</span><span class="p">(</span><span class="n">country_config</span><span class="p">,</span><span class="n">geo_bounding_box</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri</span><span class="o">.</span><span class="n">download</span><span class="p">()</span> <span class="c1"># Must have IRI_AUTH environment variable set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri_data</span> <span class="o">=</span> <span class="n">iri</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.IriForecastProb.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.IriForecastProb.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the IRI seasonal tercile forecast as NetCDF file.</p>
<p>To download data from the IRI API, a key is required for
authentication, and must be set in the <code class="docutils literal notranslate"><span class="pre">IRI_AUTH</span></code> environment
variable. To obtain this key config you need to create an account
<a class="reference external" href="https://iridl.ldeo.columbia.edu/auth/login">here</a>.
Note that this key might be changed over time, and need to be updated
regularly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing raw files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.IriForecastProb.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.IriForecastProb.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the IRI forecast data.</p>
<p>Should only be called after the <code class="docutils literal notranslate"><span class="pre">download</span></code> and <code class="docutils literal notranslate"><span class="pre">process</span></code> methods
have been executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The processed IRI dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.IriForecastProb.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.IriForecastProb.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the IRI forecast.</p>
<p>Should only be called after the <code class="docutils literal notranslate"><span class="pre">download</span></code> method has been
executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The processed filepath</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="dominant-forecast">
<h4>Dominant forecast<a class="headerlink" href="#dominant-forecast" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.IriForecastDominant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">IriForecastDominant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_bounding_box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/iri/iri_seasonal_forecast.html#IriForecastDominant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.IriForecastDominant" title="Permalink to this definition"></a></dt>
<dd><p>Class to retrieve IRI’s forecast dominant tercile data.</p>
<p>The retrieved data contains the dominant probability.
Automatically all seasons and leadtimes are
downloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>geo_bounding_box</strong> (<a class="reference internal" href="#aatoolbox.GeoBoundingBox" title="aatoolbox.GeoBoundingBox"><em>GeoBoundingBox</em></a>) – the bounding coordinates of the area that should
be included in the data.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>     <span class="o">...</span>     <span class="n">GeoBoundingBox</span><span class="p">,</span> <span class="n">IriForecastDominant</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo_bounding_box</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="p">(</span><span class="n">lat_max</span><span class="o">=</span><span class="mf">13.0</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">lat_min</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">lon_max</span><span class="o">=-</span><span class="mf">3.0</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">lon_min</span><span class="o">=-</span><span class="mf">2.0</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize class and retrieve data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri</span> <span class="o">=</span> <span class="n">IriForecastDominant</span><span class="p">(</span><span class="n">country_config</span><span class="p">,</span><span class="n">geo_bounding_box</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri</span><span class="o">.</span><span class="n">download</span><span class="p">()</span> <span class="c1"># Must have IRI_AUTH environment variable set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iri_data</span> <span class="o">=</span> <span class="n">iri</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.IriForecastDominant.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.IriForecastDominant.download" title="Permalink to this definition"></a></dt>
<dd><p>Download the IRI seasonal tercile forecast as NetCDF file.</p>
<p>To download data from the IRI API, a key is required for
authentication, and must be set in the <code class="docutils literal notranslate"><span class="pre">IRI_AUTH</span></code> environment
variable. To obtain this key config you need to create an account
<a class="reference external" href="https://iridl.ldeo.columbia.edu/auth/login">here</a>.
Note that this key might be changed over time, and need to be updated
regularly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing raw files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.IriForecastDominant.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#aatoolbox.IriForecastDominant.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the IRI forecast data.</p>
<p>Should only be called after the <code class="docutils literal notranslate"><span class="pre">download</span></code> and <code class="docutils literal notranslate"><span class="pre">process</span></code> methods
have been executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The processed IRI dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.IriForecastDominant.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.IriForecastDominant.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the IRI forecast.</p>
<p>Should only be called after the <code class="docutils literal notranslate"><span class="pre">download</span></code> method has been
executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>The processed filepath</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-aatoolbox.datasources.usgs.ndvi_products">
<span id="ndvi-usgs-emodis"></span><h3>NDVI (USGS eMODIS)<a class="headerlink" href="#module-aatoolbox.datasources.usgs.ndvi_products" title="Permalink to this heading"></a></h3>
<p>Classes to download and process USGS FEWS NET NDVI data.</p>
<p>Download, process, and load NDVI data published
in the <a class="reference external" href="https://earlywarning.usgs.gov/fews">USGS FEWS NET data portal</a>. Classes available
to process temporally smoothed NDVI values, percent of
median values, difference to median values, and difference
from current value to the previous year’s value.</p>
<section id="smoothed">
<h4>Smoothed<a class="headerlink" href="#smoothed" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviSmoothed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">UsgsNdviSmoothed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/usgs/ndvi_products.html#UsgsNdviSmoothed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.UsgsNdviSmoothed" title="Permalink to this definition"></a></dt>
<dd><p>Base class to retrieve smoothed NDVI data.</p>
<p>The retrieved data is the smoothed NDVI values
processed by the USGS. Temporal smoothing is done
to adjust for cloud cover and other errors.
Data for the 3 most recent dekads is not fully
smoothed, and are re-smoothed at the end of the
3 dekad period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>start_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – Start date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object or a data string in ISO8601 format, and
the relevant dekad will be determined. Or pass
directly as year-dekad tuple, e.g. (2020, 1).
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">start_date</span></code> is set to earliest
date with data: 2002, dekad 19.</p></li>
<li><p><strong>end_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – End date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1). If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">end_date</span></code> is set to <code class="docutils literal notranslate"><span class="pre">date.today()</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>     <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load in processed data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviSmoothed.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviSmoothed.download" title="Permalink to this definition"></a></dt>
<dd><p>Download raw NDVI data as .tif files.</p>
<p>NDVI data is downloaded from the USGS API,
with data for individual regions, years, and
dekads stored as separate .tif files. No
authentication is required. Data is downloaded
for all available dekads from <code class="docutils literal notranslate"><span class="pre">self._start_date</span></code>
to <code class="docutils literal notranslate"><span class="pre">self._end_date</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviSmoothed.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviSmoothed.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed USGS NDVI data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_col</strong> (<em>str</em>) – String is  used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.
The same value must be passed to <code class="docutils literal notranslate"><span class="pre">process()</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed NDVI dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviSmoothed.load_raster">
<span class="sig-name descname"><span class="pre">load_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviSmoothed.load_raster" title="Permalink to this definition"></a></dt>
<dd><p>Load raster for specific year and dekad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>load_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – Date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array of NDVI data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviSmoothed.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviSmoothed.process" title="Permalink to this definition"></a></dt>
<dd><p>Process NDVI data for specific area.</p>
<p>NDVI data is clipped to the provided
<code class="docutils literal notranslate"><span class="pre">geometries</span></code>, usually a geopandas
dataframes <code class="docutils literal notranslate"><span class="pre">geometry</span></code> feature. <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>
are passed on to <code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.
The <code class="docutils literal notranslate"><span class="pre">feature_col</span></code> is used to define
the unique processed file.</p>
<p>The processing keeps track of the latest timestamp of
when the raw raster files were modified. If the latest
timestamp of the raw data is greater than when it was
last processed, the file will automatically be
re-processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame with row per area for stats computation.
If <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> is passed, geometry column must
have the name <code class="docutils literal notranslate"><span class="pre">geometry</span></code>. Passed to
<code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.</p></li>
<li><p><strong>feature_col</strong> (<em>str</em>) – Column in <code class="docutils literal notranslate"><span class="pre">gdf</span></code> to use as row/feature identifier.
and dates. Passed to <code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.
The string is also used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.</p></li>
<li><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed dates. If
the new file matches the old file, dates will be
reprocessed and appended to the data frame. If
files do not match, the old file will be replaced.
If False, stats are only calculated for year-dekads
that have not already been calculated within the
file. However, if False and files do not match,
value error will be raised.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to
<code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin1</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># process for admin1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM1_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="percent-of-median">
<h4>Percent of median<a class="headerlink" href="#percent-of-median" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviPctMedian">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">UsgsNdviPctMedian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/usgs/ndvi_products.html#UsgsNdviPctMedian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.UsgsNdviPctMedian" title="Permalink to this definition"></a></dt>
<dd><p>Base class to retrieve % of median NDVI.</p>
<p>The retrieved data is the percent of median NDVI
values calculated from 2003 - 2017, as
processed by the USGS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>start_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – Start date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object or a data string in ISO8601 format, and
the relevant dekad will be determined. Or pass
directly as year-dekad tuple, e.g. (2020, 1).
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">start_date</span></code> is set to earliest
date with data: 2002, dekad 19.</p></li>
<li><p><strong>end_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – End date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1). If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">end_date</span></code> is set to <code class="docutils literal notranslate"><span class="pre">date.today()</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>     <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviPctMedian</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviPctMedian</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load in processed data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviPctMedian.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviPctMedian.download" title="Permalink to this definition"></a></dt>
<dd><p>Download raw NDVI data as .tif files.</p>
<p>NDVI data is downloaded from the USGS API,
with data for individual regions, years, and
dekads stored as separate .tif files. No
authentication is required. Data is downloaded
for all available dekads from <code class="docutils literal notranslate"><span class="pre">self._start_date</span></code>
to <code class="docutils literal notranslate"><span class="pre">self._end_date</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviPctMedian.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviPctMedian.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed USGS NDVI data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_col</strong> (<em>str</em>) – String is  used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.
The same value must be passed to <code class="docutils literal notranslate"><span class="pre">process()</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed NDVI dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviPctMedian.load_raster">
<span class="sig-name descname"><span class="pre">load_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviPctMedian.load_raster" title="Permalink to this definition"></a></dt>
<dd><p>Load raster for specific year and dekad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>load_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – Date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array of NDVI data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviPctMedian.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviPctMedian.process" title="Permalink to this definition"></a></dt>
<dd><p>Process NDVI data for specific area.</p>
<p>NDVI data is clipped to the provided
<code class="docutils literal notranslate"><span class="pre">geometries</span></code>, usually a geopandas
dataframes <code class="docutils literal notranslate"><span class="pre">geometry</span></code> feature. <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>
are passed on to <code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.
The <code class="docutils literal notranslate"><span class="pre">feature_col</span></code> is used to define
the unique processed file.</p>
<p>The processing keeps track of the latest timestamp of
when the raw raster files were modified. If the latest
timestamp of the raw data is greater than when it was
last processed, the file will automatically be
re-processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame with row per area for stats computation.
If <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> is passed, geometry column must
have the name <code class="docutils literal notranslate"><span class="pre">geometry</span></code>. Passed to
<code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.</p></li>
<li><p><strong>feature_col</strong> (<em>str</em>) – Column in <code class="docutils literal notranslate"><span class="pre">gdf</span></code> to use as row/feature identifier.
and dates. Passed to <code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.
The string is also used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.</p></li>
<li><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed dates. If
the new file matches the old file, dates will be
reprocessed and appended to the data frame. If
files do not match, the old file will be replaced.
If False, stats are only calculated for year-dekads
that have not already been calculated within the
file. However, if False and files do not match,
value error will be raised.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to
<code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin1</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># process for admin1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM1_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="median-anomaly">
<h4>Median anomaly<a class="headerlink" href="#median-anomaly" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviMedianAnomaly">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">UsgsNdviMedianAnomaly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/usgs/ndvi_products.html#UsgsNdviMedianAnomaly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.UsgsNdviMedianAnomaly" title="Permalink to this definition"></a></dt>
<dd><p>Base class to retrieve NDVI anomaly data.</p>
<p>The retrieved data is NDVI anomaly data calculated
as a subtraction of the median value, based on data
from 2003 - 2017, from the
current value. Negative values indicate less
vegetation than the median, positive values indicate
more vegetation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>start_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – Start date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object or a data string in ISO8601 format, and
the relevant dekad will be determined. Or pass
directly as year-dekad tuple, e.g. (2020, 1).
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">start_date</span></code> is set to earliest
date with data: 2002, dekad 19.</p></li>
<li><p><strong>end_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – End date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1). If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">end_date</span></code> is set to <code class="docutils literal notranslate"><span class="pre">date.today()</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>     <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviMedianAnomaly</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviMedianAnomaly</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load in processed data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviMedianAnomaly.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviMedianAnomaly.download" title="Permalink to this definition"></a></dt>
<dd><p>Download raw NDVI data as .tif files.</p>
<p>NDVI data is downloaded from the USGS API,
with data for individual regions, years, and
dekads stored as separate .tif files. No
authentication is required. Data is downloaded
for all available dekads from <code class="docutils literal notranslate"><span class="pre">self._start_date</span></code>
to <code class="docutils literal notranslate"><span class="pre">self._end_date</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviMedianAnomaly.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviMedianAnomaly.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed USGS NDVI data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_col</strong> (<em>str</em>) – String is  used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.
The same value must be passed to <code class="docutils literal notranslate"><span class="pre">process()</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed NDVI dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviMedianAnomaly.load_raster">
<span class="sig-name descname"><span class="pre">load_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviMedianAnomaly.load_raster" title="Permalink to this definition"></a></dt>
<dd><p>Load raster for specific year and dekad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>load_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – Date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array of NDVI data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviMedianAnomaly.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviMedianAnomaly.process" title="Permalink to this definition"></a></dt>
<dd><p>Process NDVI data for specific area.</p>
<p>NDVI data is clipped to the provided
<code class="docutils literal notranslate"><span class="pre">geometries</span></code>, usually a geopandas
dataframes <code class="docutils literal notranslate"><span class="pre">geometry</span></code> feature. <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>
are passed on to <code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.
The <code class="docutils literal notranslate"><span class="pre">feature_col</span></code> is used to define
the unique processed file.</p>
<p>The processing keeps track of the latest timestamp of
when the raw raster files were modified. If the latest
timestamp of the raw data is greater than when it was
last processed, the file will automatically be
re-processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame with row per area for stats computation.
If <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> is passed, geometry column must
have the name <code class="docutils literal notranslate"><span class="pre">geometry</span></code>. Passed to
<code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.</p></li>
<li><p><strong>feature_col</strong> (<em>str</em>) – Column in <code class="docutils literal notranslate"><span class="pre">gdf</span></code> to use as row/feature identifier.
and dates. Passed to <code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.
The string is also used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.</p></li>
<li><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed dates. If
the new file matches the old file, dates will be
reprocessed and appended to the data frame. If
files do not match, the old file will be replaced.
If False, stats are only calculated for year-dekads
that have not already been calculated within the
file. However, if False and files do not match,
value error will be raised.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to
<code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin1</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># process for admin1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM1_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="difference-from-previous-year">
<h4>Difference from previous year<a class="headerlink" href="#difference-from-previous-year" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviYearDifference">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">UsgsNdviYearDifference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="aatoolbox.config.html#aatoolbox.config.countryconfig.CountryConfig" title="aatoolbox.config.countryconfig.CountryConfig"><span class="pre">CountryConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/datasources/usgs/ndvi_products.html#UsgsNdviYearDifference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.UsgsNdviYearDifference" title="Permalink to this definition"></a></dt>
<dd><p>Base class to retrieve NDVI year difference data.</p>
<p>The retrieved data is NDVI yearly difference data,
calculated as the subtraction of the previous year’s
NDVI value from the current year’s. Negative
values indicate the current vegetation is less
than the previous year’s, positive that there
is more vegetation in the current year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_config</strong> (<a class="reference internal" href="aatoolbox.html#aatoolbox.CountryConfig" title="aatoolbox.CountryConfig"><em>CountryConfig</em></a>) – Country configuration</p></li>
<li><p><strong>start_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – Start date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object or a data string in ISO8601 format, and
the relevant dekad will be determined. Or pass
directly as year-dekad tuple, e.g. (2020, 1).
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">start_date</span></code> is set to earliest
date with data: 2002, dekad 19.</p></li>
<li><p><strong>end_date</strong> (<em>_DATE_TYPE</em><em>, </em><em>default = None</em>) – End date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1). If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">end_date</span></code> is set to <code class="docutils literal notranslate"><span class="pre">date.today()</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>     <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviDifference</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviDifference</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load in processed data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviYearDifference.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviYearDifference.download" title="Permalink to this definition"></a></dt>
<dd><p>Download raw NDVI data as .tif files.</p>
<p>NDVI data is downloaded from the USGS API,
with data for individual regions, years, and
dekads stored as separate .tif files. No
authentication is required. Data is downloaded
for all available dekads from <code class="docutils literal notranslate"><span class="pre">self._start_date</span></code>
to <code class="docutils literal notranslate"><span class="pre">self._end_date</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The downloaded filepath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviYearDifference.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviYearDifference.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the processed USGS NDVI data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_col</strong> (<em>str</em>) – String is  used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.
The same value must be passed to <code class="docutils literal notranslate"><span class="pre">process()</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed NDVI dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviYearDifference.load_raster">
<span class="sig-name descname"><span class="pre">load_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">load_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviYearDifference.load_raster" title="Permalink to this definition"></a></dt>
<dd><p>Load raster for specific year and dekad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>load_date</strong> (<em>Union</em><em>[</em><em>date</em><em>, </em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – Date. Can be passed as a <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code>
object and the relevant dekad will be determined,
as a date string in ISO8601 format, or as a
year-dekad tuple, i.e. (2020, 1).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array of NDVI data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the requested file cannot be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.UsgsNdviYearDifference.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clobber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#aatoolbox.UsgsNdviYearDifference.process" title="Permalink to this definition"></a></dt>
<dd><p>Process NDVI data for specific area.</p>
<p>NDVI data is clipped to the provided
<code class="docutils literal notranslate"><span class="pre">geometries</span></code>, usually a geopandas
dataframes <code class="docutils literal notranslate"><span class="pre">geometry</span></code> feature. <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>
are passed on to <code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.
The <code class="docutils literal notranslate"><span class="pre">feature_col</span></code> is used to define
the unique processed file.</p>
<p>The processing keeps track of the latest timestamp of
when the raw raster files were modified. If the latest
timestamp of the raw data is greater than when it was
last processed, the file will automatically be
re-processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame with row per area for stats computation.
If <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> is passed, geometry column must
have the name <code class="docutils literal notranslate"><span class="pre">geometry</span></code>. Passed to
<code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.</p></li>
<li><p><strong>feature_col</strong> (<em>str</em>) – Column in <code class="docutils literal notranslate"><span class="pre">gdf</span></code> to use as row/feature identifier.
and dates. Passed to <code class="docutils literal notranslate"><span class="pre">aat.compute_raster_stats()</span></code>.
The string is also used as a suffix to the
processed file path for unique identication of
analyses done on different files and columns.</p></li>
<li><p><strong>clobber</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If True, overwrites existing processed dates. If
the new file matches the old file, dates will be
reprocessed and appended to the data frame. If
files do not match, the old file will be replaced.
If False, stats are only calculated for year-dekads
that have not already been calculated within the
file. However, if False and files do not match,
value error will be raised.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to
<code class="docutils literal notranslate"><span class="pre">aat.computer_raster_stats()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The processed path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">aatoolbox</span> <span class="kn">import</span> <span class="n">create_country_config</span><span class="p">,</span>         <span class="o">...</span>  <span class="n">CodAB</span><span class="p">,</span> <span class="n">UsgsNdviSmoothed</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Retrieve admin 2 boundaries for Burkina Faso</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">country_config</span> <span class="o">=</span> <span class="n">create_country_config</span><span class="p">(</span><span class="n">iso3</span><span class="o">=</span><span class="s2">&quot;bfa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codab</span> <span class="o">=</span> <span class="n">CodAB</span><span class="p">(</span><span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin2</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_admin1</span> <span class="o">=</span> <span class="n">codab</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">admin_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup NDVI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span> <span class="o">=</span> <span class="n">UsgsNdviSmoothed</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">country_config</span><span class="o">=</span><span class="n">country_config</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM2_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># process for admin1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bfa_ndvi</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">bfa_admin1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;ADM1_FR&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>
<section id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Permalink to this heading"></a></h2>
<section id="module-aatoolbox.utils.geoboundingbox">
<span id="geoboundingbox"></span><h3>GeoboundingBox<a class="headerlink" href="#module-aatoolbox.utils.geoboundingbox" title="Permalink to this heading"></a></h3>
<p>Functionality to retrieve and modify boundary coordinates.</p>
<p>It is possible to create an <code class="docutils literal notranslate"><span class="pre">GeoBoundingBox</span></code> object either from
lat_max, lat_min, lon_max, lon_min coordinates,
or from a shapefile that has been read in with geopandas.</p>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.</span></span><span class="sig-name descname"><span class="pre">GeoBoundingBox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_min</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/utils/geoboundingbox.html#GeoBoundingBox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GeoBoundingBox" title="Permalink to this definition"></a></dt>
<dd><p>Create an object containing the bounds of an area.</p>
<p>Standard geographic coordinate system is used where latitude runs
from -90 to 90 degrees, and latitude from -180 to 180.
North must always be greater than south, and east greater
than west.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat_max</strong> (<em>float</em>) – The northern latitude boundary of the area (degrees).
The value must be between -90 and 90, and greater than or equal to the
southern boundary.</p></li>
<li><p><strong>lat_min</strong> (<em>float</em>) – The southern latitude boundary of the area (degrees).
The value must be between -90 and 90, and less than or equal to the
northern boundary.</p></li>
<li><p><strong>lon_max</strong> (<em>float</em>) – The easternmost longitude boundary of the area (degrees).
The value must be between -180 and 180, and greater than or equal to
the western boundary.</p></li>
<li><p><strong>lon_min</strong> (<em>float</em>) – The westernmost longitude boundary of the area (degrees).
The value must be between -180 and 180, and less than or equal to the
eastern boundary.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.from_shape">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">GeoSeries</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">GeoDataFrame</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></span><a class="reference internal" href="_modules/aatoolbox/utils/geoboundingbox.html#GeoBoundingBox.from_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GeoBoundingBox.from_shape" title="Permalink to this definition"></a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">GeoBoundingBox</span></code> from a geopandas object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shape</strong> (<em>geopandas.GeoSeries</em><em>, </em><em>geopandas.GeoDataFrame</em>) – A shape whose bounds will be retrieved</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">GeoBoundingBox</span></code> from the total bounds of the <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_admin_boundaries</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;admin0_boundaries.gpkg&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geobb</span> <span class="o">=</span> <span class="n">GeoBoundingBox</span><span class="o">.</span><span class="n">from_shape</span><span class="p">(</span><span class="n">df_admin_boundaries</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.get_filename_repr">
<span class="sig-name descname"><span class="pre">get_filename_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/aatoolbox/utils/geoboundingbox.html#GeoBoundingBox.get_filename_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GeoBoundingBox.get_filename_repr" title="Permalink to this definition"></a></dt>
<dd><p>Get succinct boundary representation for usage in filenames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>p</strong> (<em>int</em><em>, </em><em>default = 0</em>) – Precision, i.e. number of decimal places to round to. Default is
0 for ints.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>String containing N, S, E and W coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.lat_max">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lat_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#aatoolbox.GeoBoundingBox.lat_max" title="Permalink to this definition"></a></dt>
<dd><p>Get the northern latitude boundary of the area (degrees).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.lat_min">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lat_min</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#aatoolbox.GeoBoundingBox.lat_min" title="Permalink to this definition"></a></dt>
<dd><p>Get the southern latitude boundary of the area (degrees).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.lon_max">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lon_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#aatoolbox.GeoBoundingBox.lon_max" title="Permalink to this definition"></a></dt>
<dd><p>Get the eastern longitude boundary of the area (degrees).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.lon_min">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lon_min</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#aatoolbox.GeoBoundingBox.lon_min" title="Permalink to this definition"></a></dt>
<dd><p>Get the western longitude boundary of the area (degrees).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.GeoBoundingBox.round_coords">
<span class="sig-name descname"><span class="pre">round_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="aatoolbox.utils.html#aatoolbox.utils.geoboundingbox.GeoBoundingBox" title="aatoolbox.utils.geoboundingbox.GeoBoundingBox"><span class="pre">GeoBoundingBox</span></a></span></span><a class="reference internal" href="_modules/aatoolbox/utils/geoboundingbox.html#GeoBoundingBox.round_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.GeoBoundingBox.round_coords" title="Permalink to this definition"></a></dt>
<dd><p>Round the bounding box coordinates.</p>
<p>Rounding is always done outside the original bounding box,
i.e. the resulting bounding box is always equal or larger
than the original bounding box. Rounding can only be done once
per instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset_val</strong> (<em>float</em><em>, </em><em>default = 0.0</em>) – Offset the coordinates by this factor.</p></li>
<li><p><strong>round_val</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>default = 1</em>) – Rounds to the nearest round_val. Can be an int for integer
rounding or float for decimal rounding. If 1, round to integers.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">GeoBoundingBox</span></code> instance with rounded and offset coordinates</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-aatoolbox.utils.raster">
<span id="raster-module"></span><h3>Raster module<a class="headerlink" href="#module-aatoolbox.utils.raster" title="Permalink to this heading"></a></h3>
<p>Utilities to manipulate and analyze raster data.</p>
<p>The raster module provides accessor utilities for xarray
data arrays and datasets accessible using the <cite>aat</cite> accessor.
These functions are available just by importing directly
the library using <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">aatoolbox</span></code>.</p>
<p>Since rioxarray already extends xarray, this
modules extensions inherit from the RasterArray and
RasterDataset extensions respectively. This ensures
cleaner code in the module as <code class="docutils literal notranslate"><span class="pre">rio</span></code> methods are
available immediately, but also means a couple of
design decisions are followed.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">xarray.DataArray</span></code> and <code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code>
extensions here inherit from rioxarray base classes.
Thus, methods that are identical for both objects
are defined in a mixin class <code class="docutils literal notranslate"><span class="pre">AatRasterMixin</span></code> which
can be inherited by the two respective extensions.</p>
<section id="data-arrays">
<h4>Data arrays<a class="headerlink" href="#data-arrays" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.utils.raster.</span></span><span class="sig-name descname"><span class="pre">AatRasterArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xarray_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/utils/raster.html#AatRasterArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray" title="Permalink to this definition"></a></dt>
<dd><p>AA toolbox extension for xarray.DataArray.</p>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.change_longitude_range">
<span class="sig-name descname"><span class="pre">change_longitude_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_180_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.change_longitude_range" title="Permalink to this definition"></a></dt>
<dd><p>Convert longitude range between -180 to 180 and 0 to 360.</p>
<p>The standard longitude range is from -180 to 180, while some
applications use 0 to 360. This includes
<code class="docutils literal notranslate"><span class="pre">`rasterstats.zonal_stats</span></code> &lt;<a class="reference external" href="https://pypi.org/project/rasterstats/">https://pypi.org/project/rasterstats/</a>&gt;`_,
which assumes ranges from 0 to 360.</p>
<p><code class="docutils literal notranslate"><span class="pre">change_longitude_range()</span></code> will convert between the
two coordinate ranges based on its current state.
By default it will use the -180 to 180 range unless
<cite>to_180_range</cite> is False, then it will use 0-360
If coordinates lie solely between 0 and 180 then there is
no need for conversion and the input  will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>to_180_range</strong> (<em>bool</em><em>, </em><em>default = True</em>) – If True, the returned range is -180 to 180
Else, the returned range is 0 to 360</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, will overwrite existing data array. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset with transformed longitude coordinates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temp</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">+</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precip</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span>
<span class="gp">... </span>  <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;precipitation&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">precip</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">},</span>
<span class="gp">... </span>  <span class="n">coords</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2014-09-06&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">change_longitude_range</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">)</span>
<span class="go">Int64Index([-161, 0, 5, 120], dtype=&#39;int64&#39;, name=&#39;lon&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># invert coordinates back to original, in place</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">change_longitude_range</span><span class="p">(</span><span class="n">to_180_range</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">)</span>
<span class="go">Int64Index([0, 5, 120, 199], dtype=&#39;int64&#39;, name=&#39;lon&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.compute_raster_stats">
<span class="sig-name descname"><span class="pre">compute_raster_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeoDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_touched</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/aatoolbox/utils/raster.html#AatRasterArray.compute_raster_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.compute_raster_stats" title="Permalink to this definition"></a></dt>
<dd><p>Compute raster statistics for polygon geometry.</p>
<p><code class="docutils literal notranslate"><span class="pre">compute_raster_stats()</span></code> is designed to
quickly compute raster statistics across a polygon
and its features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame with row per area for stats computation.
If <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> is passed, geometry column must
have the name <code class="docutils literal notranslate"><span class="pre">geometry</span></code>.</p></li>
<li><p><strong>feature_col</strong> (<em>str</em>) – Column in <code class="docutils literal notranslate"><span class="pre">gdf</span></code> to use as row/feature identifier.</p></li>
<li><p><strong>stats_list</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – List of statistics to calculate, by default None.
Passed to <code class="docutils literal notranslate"><span class="pre">get_attr()</span></code>.</p></li>
<li><p><strong>percentile_list</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – List of percentiles to compute, by default None.</p></li>
<li><p><strong>all_touched</strong> (<em>bool</em><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> all cells touching the region will be
included, by default False. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, only
cells with their centre in the region will be
included.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataframe with computed statistics.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rioxarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Polygon</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># compute raster stats on simple data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;area_a&quot;</span><span class="p">,</span> <span class="s2">&quot;area_b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>        <span class="n">Polygon</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]),</span>
<span class="gp">... </span>        <span class="n">Polygon</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]),</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]},</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">write_crs</span><span class="p">(</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">compute_raster_stats</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gdf</span><span class="o">=</span><span class="n">gdf</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   mean_name            std_name min_name max_name sum_name count_name    name # noqa: E501</span>
<span class="go">0       3.0  1.5811388300841898        1        5     12.0          4  area_a  # noqa: E501</span>
<span class="go">1       4.5                 1.5        3        6      9.0          2  area_b  # noqa: E501</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.correct_calendar">
<span class="sig-name descname"><span class="pre">correct_calendar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.correct_calendar" title="Permalink to this definition"></a></dt>
<dd><p>Correct calendar attribute for recognition by xarray.</p>
<p>Some datasets come with a wrong calendar attribute that isn’t
recognized by xarray. This function corrects the coordinate
attribute to ensure that a <code class="docutils literal notranslate"><span class="pre">calendar</span></code> attribute exists
and specifies a calendar alias that is supportable by
<code class="docutils literal notranslate"><span class="pre">xarray.cftime_range</span></code> and NetCDF in general.</p>
<p>Currently ensures that calendar attributes that are either
specified with <code class="docutils literal notranslate"><span class="pre">units=&quot;months</span> <span class="pre">since&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">calendar=&quot;360&quot;</span></code>
explicitly have <code class="docutils literal notranslate"><span class="pre">calendar=&quot;360_day&quot;</span></code>. This is based on
discussions in <a class="reference external" href="https://github.com/Unidata/netcdf4-python/issues/434">this GitHub issue</a>.
If and when further issues are found with calendar
attributes, support for conversion will be added here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, it will modify the dataarray in place.
Otherwise it will return a modified copy.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array or dataset with transformed calendar
coordinate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span> <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;t&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">])}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="p">[</span><span class="s2">&quot;t&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;months since 1960-01-01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da_crct</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">correct_calendar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da_crct</span><span class="p">[</span><span class="s2">&quot;t&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;calendar&quot;</span><span class="p">]</span>
<span class="go">&#39;360_day&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.invert_coordinates">
<span class="sig-name descname"><span class="pre">invert_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.invert_coordinates" title="Permalink to this definition"></a></dt>
<dd><p>Invert latitude and longitude in data array.</p>
<p>This function checks for inversion of latitude and longitude
and inverts them if needed. Datasets with inverted coordinates
can produce incorrect results in certain functions like
<code class="docutils literal notranslate"><span class="pre">rasterstats.zonal_stats()</span></code>. Correctly ordered coordinates
should be:</p>
<ul class="simple">
<li><p>latitude: Largest to smallest.</p></li>
<li><p>longitude: Smallest to largest.</p></li>
</ul>
<p>If data array already has correct coordinate ordering, it is
directly returned. Function largely copied from
<a class="reference external" href="https://github.com/perrygeo/python-rasterstats/issues/218">https://github.com/perrygeo/python-rasterstats/issues/218</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, will overwrite existing data array. Default is False.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array or dataset with correct coordinate ordering.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span> <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">70</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">67</span><span class="p">])}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">invert_coordinates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">)</span>
<span class="go">Int64Index([67, 68, 69, 70], dtype=&#39;int64&#39;, name=&#39;lon&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">)</span>
<span class="go">Int64Index([90, 89, 88, 87], dtype=&#39;int64&#39;, name=&#39;lat&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.longitude_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">longitude_range</span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.longitude_range" title="Permalink to this definition"></a></dt>
<dd><p>The longitude range.</p>
<p>The longitude range indicates if coordinates are
between -180 and 180 (indicated by ‘180’)
or 0 and 360 (indicated by ‘360’).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.set_time_dim">
<span class="sig-name descname"><span class="pre">set_time_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_dim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.set_time_dim" title="Permalink to this definition"></a></dt>
<dd><p>Set the time dimension of the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_dim</strong> (<em>str</em>) – The name of the time dimension.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, it will modify the dataarray in place.
Otherwise it will return a modified copy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array or dataset with time dimension.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span> <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;F&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">])}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">set_time_dim</span><span class="p">(</span><span class="n">t_dim</span><span class="o">=</span><span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">t_dim</span>
<span class="go">&#39;F&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.t_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">t_dim</span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.t_dim" title="Permalink to this definition"></a></dt>
<dd><p>The dimension for time.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.x_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x_dim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Hashable</span></em><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.x_dim" title="Permalink to this definition"></a></dt>
<dd><p>The dimension for the X-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Hashable</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterArray.y_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_dim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Hashable</span></em><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterArray.y_dim" title="Permalink to this definition"></a></dt>
<dd><p>The dimension for the Y-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Hashable</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="datasets">
<h4>Datasets<a class="headerlink" href="#datasets" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aatoolbox.utils.raster.</span></span><span class="sig-name descname"><span class="pre">AatRasterDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xarray_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/utils/raster.html#AatRasterDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset" title="Permalink to this definition"></a></dt>
<dd><p>AA toolbox extension for xarray.Dataset.</p>
<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.change_longitude_range">
<span class="sig-name descname"><span class="pre">change_longitude_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_180_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.change_longitude_range" title="Permalink to this definition"></a></dt>
<dd><p>Convert longitude range between -180 to 180 and 0 to 360.</p>
<p>The standard longitude range is from -180 to 180, while some
applications use 0 to 360. This includes
<code class="docutils literal notranslate"><span class="pre">`rasterstats.zonal_stats</span></code> &lt;<a class="reference external" href="https://pypi.org/project/rasterstats/">https://pypi.org/project/rasterstats/</a>&gt;`_,
which assumes ranges from 0 to 360.</p>
<p><code class="docutils literal notranslate"><span class="pre">change_longitude_range()</span></code> will convert between the
two coordinate ranges based on its current state.
By default it will use the -180 to 180 range unless
<cite>to_180_range</cite> is False, then it will use 0-360
If coordinates lie solely between 0 and 180 then there is
no need for conversion and the input  will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>to_180_range</strong> (<em>bool</em><em>, </em><em>default = True</em>) – If True, the returned range is -180 to 180
Else, the returned range is 0 to 360</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, will overwrite existing data array. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataset with transformed longitude coordinates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temp</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">+</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precip</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span>
<span class="gp">... </span>  <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;precipitation&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">precip</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">},</span>
<span class="gp">... </span>  <span class="n">coords</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2014-09-06&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">change_longitude_range</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">)</span>
<span class="go">Int64Index([-161, 0, 5, 120], dtype=&#39;int64&#39;, name=&#39;lon&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># invert coordinates back to original, in place</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">change_longitude_range</span><span class="p">(</span><span class="n">to_180_range</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_inv</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">)</span>
<span class="go">Int64Index([0, 5, 120, 199], dtype=&#39;int64&#39;, name=&#39;lon&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.compute_raster_stats">
<span class="sig-name descname"><span class="pre">compute_raster_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aatoolbox/utils/raster.html#AatRasterDataset.compute_raster_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.compute_raster_stats" title="Permalink to this definition"></a></dt>
<dd><p>Compute raster statistics across dataset arrays.</p>
<p><code class="docutils literal notranslate"><span class="pre">compute_raster_stats()</span></code> calculates raster statistics on
component data arrays of a dataset. By default, calculates on all
non-coordinate variables, unless a list of variable names is
passed in, which then have statistics calculated for them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_names</strong> (<em>Union</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>str</em><em>, </em><em>None</em><em>]</em><em>, </em><em>optional</em>) – Dataset data array variables to calculate raster statistics on.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) – Keyword arguments passed to the array method
<a class="reference internal" href="#aatoolbox.utils.raster.AatRasterArray.compute_raster_stats" title="aatoolbox.utils.raster.AatRasterArray.compute_raster_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_raster_stats()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of raster statistics data frames.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[pandas.DataFrame]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rioxarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Polygon</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># compute raster stats on simple data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;area_a&quot;</span><span class="p">,</span> <span class="s2">&quot;area_b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>        <span class="n">Polygon</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]),</span>
<span class="gp">... </span>        <span class="n">Polygon</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]),</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]},</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">write_crs</span><span class="p">(</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">compute_raster_stats</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">var_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">gdf</span><span class="o">=</span><span class="n">gdf</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">feature_col</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">[       mean                 std      min      max      sum      count    name # noqa: E501</span>
<span class="go">0       3.0  1.5811388300841898        1        5     12.0          4  area_a  # noqa: E501</span>
<span class="go">1       4.5                 1.5        3        6      9.0          2  area_b] # noqa: E501</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.correct_calendar">
<span class="sig-name descname"><span class="pre">correct_calendar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.correct_calendar" title="Permalink to this definition"></a></dt>
<dd><p>Correct calendar attribute for recognition by xarray.</p>
<p>Some datasets come with a wrong calendar attribute that isn’t
recognized by xarray. This function corrects the coordinate
attribute to ensure that a <code class="docutils literal notranslate"><span class="pre">calendar</span></code> attribute exists
and specifies a calendar alias that is supportable by
<code class="docutils literal notranslate"><span class="pre">xarray.cftime_range</span></code> and NetCDF in general.</p>
<p>Currently ensures that calendar attributes that are either
specified with <code class="docutils literal notranslate"><span class="pre">units=&quot;months</span> <span class="pre">since&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">calendar=&quot;360&quot;</span></code>
explicitly have <code class="docutils literal notranslate"><span class="pre">calendar=&quot;360_day&quot;</span></code>. This is based on
discussions in <a class="reference external" href="https://github.com/Unidata/netcdf4-python/issues/434">this GitHub issue</a>.
If and when further issues are found with calendar
attributes, support for conversion will be added here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, it will modify the dataarray in place.
Otherwise it will return a modified copy.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array or dataset with transformed calendar
coordinate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span> <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;t&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">])}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="p">[</span><span class="s2">&quot;t&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;months since 1960-01-01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da_crct</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">correct_calendar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da_crct</span><span class="p">[</span><span class="s2">&quot;t&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;calendar&quot;</span><span class="p">]</span>
<span class="go">&#39;360_day&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.get_raster_array">
<span class="sig-name descname"><span class="pre">get_raster_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="_modules/aatoolbox/utils/raster.html#AatRasterDataset.get_raster_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.get_raster_array" title="Permalink to this definition"></a></dt>
<dd><p>Get xarray.DataArray from variable and keep dimensions.</p>
<p>Accessing a component xarray.DataArray using the
non-coordinate variable name loses and dimensions set
through <code class="docutils literal notranslate"><span class="pre">rio</span></code> or <code class="docutils literal notranslate"><span class="pre">aat</span></code>. This includes <code class="docutils literal notranslate"><span class="pre">x_dim</span></code>,
<code class="docutils literal notranslate"><span class="pre">y_dim</span></code>, and <code class="docutils literal notranslate"><span class="pre">t_dim</span></code> that have to be specifically
set using <code class="docutils literal notranslate"><span class="pre">rio.set_spatial_dims()</span></code> or
<code class="docutils literal notranslate"><span class="pre">aat.set_time_dim()</span></code> respectively. For any dataset
<code class="docutils literal notranslate"><span class="pre">ds</span></code>, <code class="docutils literal notranslate"><span class="pre">ds.get_raster_array(&quot;var&quot;)</span></code> will retrieve
the data array without losing the dimensions. Using
<code class="docutils literal notranslate"><span class="pre">ds[&quot;var&quot;]</span></code> will lose the dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – Name of variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>xarray.DataArray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temp</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">+</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precip</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span>
<span class="gp">... </span>  <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;F&quot;</span><span class="p">],</span> <span class="n">temp</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;precipitation&quot;</span><span class="p">:</span> <span class="p">([</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;F&quot;</span><span class="p">],</span> <span class="n">precip</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">},</span>
<span class="gp">... </span>  <span class="n">coords</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>    <span class="s2">&quot;F&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2014-09-06&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">set_time_dim</span><span class="p">(</span><span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">get_raster_array</span><span class="p">(</span><span class="s2">&quot;temperature&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">t_dim</span>
<span class="go">&#39;F&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># directly accessing array loses set dimensions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">t_dim</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">rioxarray.exceptions.DimensionError</span>: <span class="n">Time dimension not found.</span>
<span class="go">    &#39;aat.set_time_dim()&#39; or using &#39;rename()&#39; to change the</span>
<span class="go">    dimension name to &#39;t&#39; can address this.</span>
<span class="go">Data variable: temperature</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.invert_coordinates">
<span class="sig-name descname"><span class="pre">invert_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.invert_coordinates" title="Permalink to this definition"></a></dt>
<dd><p>Invert latitude and longitude in data array.</p>
<p>This function checks for inversion of latitude and longitude
and inverts them if needed. Datasets with inverted coordinates
can produce incorrect results in certain functions like
<code class="docutils literal notranslate"><span class="pre">rasterstats.zonal_stats()</span></code>. Correctly ordered coordinates
should be:</p>
<ul class="simple">
<li><p>latitude: Largest to smallest.</p></li>
<li><p>longitude: Smallest to largest.</p></li>
</ul>
<p>If data array already has correct coordinate ordering, it is
directly returned. Function largely copied from
<a class="reference external" href="https://github.com/perrygeo/python-rasterstats/issues/218">https://github.com/perrygeo/python-rasterstats/issues/218</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, will overwrite existing data array. Default is False.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array or dataset with correct coordinate ordering.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span> <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">70</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">67</span><span class="p">])}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">invert_coordinates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lon&quot;</span><span class="p">)</span>
<span class="go">Int64Index([67, 68, 69, 70], dtype=&#39;int64&#39;, name=&#39;lon&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">get_index</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">)</span>
<span class="go">Int64Index([90, 89, 88, 87], dtype=&#39;int64&#39;, name=&#39;lat&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.longitude_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">longitude_range</span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.longitude_range" title="Permalink to this definition"></a></dt>
<dd><p>The longitude range.</p>
<p>The longitude range indicates if coordinates are
between -180 and 180 (indicated by ‘180’)
or 0 and 360 (indicated by ‘360’).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.set_time_dim">
<span class="sig-name descname"><span class="pre">set_time_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_dim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">DataArray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dataset</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.set_time_dim" title="Permalink to this definition"></a></dt>
<dd><p>Set the time dimension of the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_dim</strong> (<em>str</em>) – The name of the time dimension.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, it will modify the dataarray in place.
Otherwise it will return a modified copy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data array or dataset with time dimension.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[xarray.DataArray, xarray.Dataset]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">xarray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span>
<span class="gp">... </span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span> <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
<span class="gp">... </span>         <span class="s2">&quot;F&quot;</span><span class="p">:</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">])}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">set_time_dim</span><span class="p">(</span><span class="n">t_dim</span><span class="o">=</span><span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="o">.</span><span class="n">aat</span><span class="o">.</span><span class="n">t_dim</span>
<span class="go">&#39;F&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.t_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">t_dim</span></span><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.t_dim" title="Permalink to this definition"></a></dt>
<dd><p>The dimension for time.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.x_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x_dim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Hashable</span></em><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.x_dim" title="Permalink to this definition"></a></dt>
<dd><p>The dimension for the X-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Hashable</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="aatoolbox.utils.raster.AatRasterDataset.y_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_dim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Hashable</span></em><a class="headerlink" href="#aatoolbox.utils.raster.AatRasterDataset.y_dim" title="Permalink to this definition"></a></dt>
<dd><p>The dimension for the Y-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Hashable</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="utilities/raster.html" class="btn btn-neutral float-left" title="Raster" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Centre for Humanitarian Data Predictive Analytics Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
